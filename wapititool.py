import os

class Wapiti:
    def checkprotocol(self, addr):
        protocol = addr.split(':')
        if protocol[0] in addr and protocol[0] in ['http', 'https']:
            return self.webadd.replace((protocol[0]+'://'),'')
        else:
            print('Invalid web address')
            exit(1)

    def __init__(self, webadd):
        self.path = '/home/kali/Desktop/webexploit'
        self.outpath = self.path+'/whatweboutput'
        self.webadd = webadd
        fileoutput = self.checkprotocol(webadd)

        os.system("wapiti -u {addr} -f json -o /home/kali/Desktop/webexploit/whatweboutput/wapiti_{file}.json".format(addr=self.webadd, file=fileoutput))